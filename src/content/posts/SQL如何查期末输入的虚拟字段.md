---
title: SQL如何查期末输入的虚拟字段
published: 2025-12-30
description: '金蝶云金蝶云星空'
image: ''
tags: ['金蝶云星空','SQL']
category: '金蝶云星空'
draft: false 
lang: ''
---
## 问题背景
在金蝶云星空系统中查询期末输入表时，通过BOS（Business Operating System）查看发现只有几个基础字段，但在客户端打开却显示了许多额外字段。这些额外字段的来源和查询方法成为了需要解决的问题。

## 解决方案思路
期末输入表与薪酬方案相关联，每个薪酬方案会包含一些特定的扩展字段。要查询完整的字段信息，需要先获取方案号，然后通过方案号访问对应的扩展表。

## 查询步骤
1. 首先查询期末输入表，获取方案号字段（FSALARYPLAN）：
   ```sql
   select * from KDY_SAL_T_FINALINPUT -- 查询期末输入表，获取FSALARYPLAN（方案号）字段
   ```

2. 然后使用方案号访问对应的扩展表，查询完整字段：
   ```sql
   select * from KDY_SAL_T_FINALINPUT+方案号  -- 例如：KDY_SAL_T_FINALINPUT123，将方案号替换为实际值
   ```
   > 注意：扩展表通过内码FID与期末输入表关联，可使用JOIN语句将两张表关联查询

## 总结
通过以上方法，可以成功查询到金蝶云星空期末输入表中的所有字段，包括基础字段和薪酬方案相关的扩展字段。这种设计允许系统根据不同的薪酬方案动态扩展字段，提高了系统的灵活性和适应性。